# SLAM of a Quadrotor
This project is about SLAM quadrotor. Phase 1 contains detailed information about non-linear controller and flatteness, Dijkstra and A* implementation in 3D environment with obstacles, minimum jerk trajectory.  

This project is implemented on [CrazyFile 2.0](https://www.bitcraze.io/crazyflie-2/), which is a palm sized quadrotor weighing 27 grams. It is controlled via radio and Bluetooth by the PC client  through [Crazyradio](https://www.bitcraze.io/crazyradio/). The position of quadrotor is tracked via reflective markers and infrared motion capture cameras Vicon, and angular velocity and acceleration are detected by IMU onboard. High-level commands like position control are computed by Python script on PC end, while low-level commands like attitude, motor control are computed onboard.

The performance of quadrotor in phase 1 in real lab is shown as below.  
**To be updated**

**What's next?**  
Perception, mapping and SLAM  

To run the simulation on your local end, please make sure you have install the following package:  
* numpy
* cvxopt
* matplotlib
* scipy
* timeout_decorator
## Phase 1_1
* **se3_control.py**: non-linear controller with flat output. Author@ Yuchen Sun
* **waypoint_traj.py**: constant velocity trajecory. Author@ Yuchen Sun  

Input: Thurst and Momentum  
Output: Desired thurst, speed, quaternion and momentum.  
[![se3control](https://res.cloudinary.com/marcomontalbano/image/upload/v1583605140/video_to_markdown/images/google-drive--1rN6hlxb0BuHTR9FpW8b5K12BZ-7a0JM8-c05b58ac6eb4c4700831b2b3070cd403.jpg)](https://drive.google.com/open?id=1rN6hlxb0BuHTR9FpW8b5K12BZ-7a0JM8 "se3control")
## Phase 1_2
* **graph_search**: Implementation of Dijstra and A*. Author@Yuchen Sun
* **occupancy_map**: Provide the enviroment for path planning problem. Author@ MEAM620 Staff
* **sandbox.py**: simulator. Author@ MEAM620 Staff  

Generate the optimized for the quadrotor to reach the goal
## Phase 1_3
* **graph_search.py**: same as Phase 1_2
* **se3_control.py**: same as Phase 1_1, except I adjust some parameter of PID.
* **waypoint_traj.py**: optimize path return from A* and implement minimum jerk trajectory. Author@ Yuchen Sun
* **sandbox.py**: simulator. Author@ Meam 620 Staff  

The original trajectory is generated by A* alpgorithm. The pruned trajectory is implemented with 5th order polynomial. The PID parameters have been updated.  
[![trajectory](https://res.cloudinary.com/marcomontalbano/image/upload/v1583605341/video_to_markdown/images/google-drive--1m9H7YwdQhnuPtpnDyaQe3BDGnVnFu1jL-c05b58ac6eb4c4700831b2b3070cd403.jpg)](https://drive.google.com/open?id=1m9H7YwdQhnuPtpnDyaQe3BDGnVnFu1jL "trajectory")
